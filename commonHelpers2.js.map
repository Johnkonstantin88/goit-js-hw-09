{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["const throttle = require('lodash.throttle');\n\nimport '../css/form.css';\n\nconst form = document.querySelector('.feedback-form');\n\nform.addEventListener('input', throttle(onInput, 500));\nform.addEventListener('submit', onSubmit);\n\nconst VALUE_KEY = 'feedback-form-state';\nconst formData = {\n  email: '',\n  message: '',\n};\n\nonInputValue();\n\nfunction onInput(evt) {\n  formData[evt.target.name] = evt.target.value;\n  localStorage.setItem(VALUE_KEY, JSON.stringify(formData));\n}\n\nfunction onInputValue() {\n  const formValue = JSON.parse(localStorage.getItem(VALUE_KEY));\n  if (formValue !== null) {\n    const {\n      elements: { email, message },\n    } = form;\n    email.value = formValue.email;\n    message.value = formValue.message;\n    formData.email = formValue.email;\n    formData.message = formValue.message;\n  }\n}\n\nfunction onSubmit(evt) {\n  evt.preventDefault();\n  const {\n    elements: { email, message },\n  } = evt.currentTarget;\n\n  if (email.value.trim() === '' || message.value.trim() === '') {\n    return alert('Fill in all fields');\n  }\n\n  console.log({ email: email.value.trim(), message: message.value.trim() });\n\n  evt.currentTarget.reset();\n  localStorage.removeItem(VALUE_KEY);\n  formDataReset();\n}\n\nfunction formDataReset() {\n  formData.email = '';\n  formData.message = '';\n}\n"],"names":["throttle","__CJS__import__0__.default","form","onInput","onSubmit","VALUE_KEY","formData","onInputValue","evt","formValue","email","message","formDataReset"],"mappings":"2GAAA,MAAMA,EAAWC,KAIXC,EAAO,SAAS,cAAc,gBAAgB,EAEpDA,EAAK,iBAAiB,QAASF,EAASG,EAAS,GAAG,CAAC,EACrDD,EAAK,iBAAiB,SAAUE,CAAQ,EAExC,MAAMC,EAAY,sBACZC,EAAW,CACf,MAAO,GACP,QAAS,EACX,EAEAC,IAEA,SAASJ,EAAQK,EAAK,CACpBF,EAASE,EAAI,OAAO,IAAI,EAAIA,EAAI,OAAO,MACvC,aAAa,QAAQH,EAAW,KAAK,UAAUC,CAAQ,CAAC,CAC1D,CAEA,SAASC,GAAe,CACtB,MAAME,EAAY,KAAK,MAAM,aAAa,QAAQJ,CAAS,CAAC,EAC5D,GAAII,IAAc,KAAM,CACtB,KAAM,CACJ,SAAU,CAAE,MAAAC,EAAO,QAAAC,CAAS,CAC7B,EAAGT,EACJQ,EAAM,MAAQD,EAAU,MACxBE,EAAQ,MAAQF,EAAU,QAC1BH,EAAS,MAAQG,EAAU,MAC3BH,EAAS,QAAUG,EAAU,OAC9B,CACH,CAEA,SAASL,EAASI,EAAK,CACrBA,EAAI,eAAc,EAClB,KAAM,CACJ,SAAU,CAAE,MAAAE,EAAO,QAAAC,CAAS,CAChC,EAAMH,EAAI,cAER,GAAIE,EAAM,MAAM,SAAW,IAAMC,EAAQ,MAAM,KAAM,IAAK,GACxD,OAAO,MAAM,oBAAoB,EAGnC,QAAQ,IAAI,CAAE,MAAOD,EAAM,MAAM,OAAQ,QAASC,EAAQ,MAAM,KAAI,CAAI,CAAA,EAExEH,EAAI,cAAc,QAClB,aAAa,WAAWH,CAAS,EACjCO,GACF,CAEA,SAASA,GAAgB,CACvBN,EAAS,MAAQ,GACjBA,EAAS,QAAU,EACrB"}